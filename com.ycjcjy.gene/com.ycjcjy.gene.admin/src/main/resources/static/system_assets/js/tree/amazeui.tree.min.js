(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.AMUITree=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(g,f,e){(function(v){var l=(typeof window!=="undefined"?window["jQuery"]:typeof v!=="undefined"?v["jQuery"]:null);var h=l.fn.tree;var x=function x(F,E){this.$element=l(F);this.options=l.extend({},l.fn.tree.defaults,E);var G=this.$element.data("itemIcon")||this.options.itemIcon;var H=this.$element.data("itemSelectedIcon")||this.options.itemSelectedIcon;this.folderIcon=this._getIconClass(this.options.folderIcon);this.folderOpenIcon=this._getIconClass(this.options.folderOpenIcon);this.itemIcon=this._getIconClass(G);this.itemSelectedIcon=this._getIconClass(H);this.classes={};l.each(this.options.classes,l.proxy(function(I,J){this.classes[I]=this._getClass(J)},this));if(this.options.itemSelect){this.$element.on("click.tree.amui","."+this.classes.item,l.proxy(function(I){this.selectItem(I.currentTarget)},this))}this.$element.on("click.tree.amui","."+this.classes.branchName,l.proxy(function(I){this.toggleFolder(I.currentTarget)},this));if(this.options.folderSelect){this.$element.addClass(this.options.classPrefix+"-folder-select");this.$element.off("click.tree.amui","."+this.classes.branchName);this.$element.on("click.tree.amui","."+this.classes.iconCaret,l.proxy(function(I){this.toggleFolder(l(I.currentTarget).parent())},this));this.$element.on("click.tree.amui","."+this.classes.branchName,l.proxy(function(I){this.selectFolder(l(I.currentTarget))},this))}this.render()};x.prototype={constructor:x,deselectAll:function D(E){var G=this;E=E||this.$element;var F=l(E).find("."+this.classes.selected);F.each(function(H,I){z(G,l(I),l(I).find("."+G.classes.icon))});return F},destroy:function B(){this.$element.find("li:not([data-template])").remove();this.$element.remove();return this.$element[0].outerHTML},render:function C(){this.populate(this.$element)},populate:function m(F){var I=this;var H=(F.hasClass(this.options.classPrefix))?F:F.parent();var E=H.find("."+this.classes.loader).eq(0);var G=H.data();E.removeClass(this.options.hiddenClass);this.options.dataSource(G,function(J){E.addClass(I.options.hiddenClass);l.each(J.data,function(L,N){var M;if(N.type==="folder"){M=I.$element.find("[data-template=treebranch]").first().clone().removeClass(I.options.hiddenClass).removeData("template");M.data(N);M.find("."+I.classes.iconFolder).addClass(I.folderIcon);M.find("."+I.classes.branchName+" > ."+I.classes.label).html(N.title)}else{if(N.type==="item"){M=I.$element.find("[data-template=treeitem]").first().clone().removeClass(I.options.hiddenClass).removeData("template");M.find("."+I.classes.itemName+" > ."+I.classes.label).html(N.title);M.data(N);M.find("."+I.classes.iconItem).addClass(I.itemIcon)}}var K=N.attr||[];l.each(K,function(P,Q){switch(P){case"classNames":M.addClass(Q);break;case"icon":var O=[I.classes.icon,I.classes.iconItem,Q].join(" ");M.find("."+I.classes.iconItem).removeClass().addClass(O);M.data(P,Q);break;case"id":M.attr(P,Q);M.attr("aria-labelledby",Q+"-label");M.find("."+I.classes.branchName+" > ."+I.classes.label).attr("id",Q+"-label");break;default:M.attr(P,Q);break}});if(F.hasClass(I.classes.branchHeader)){H.find("."+I.classes.branchChildren).eq(0).append(M)}else{F.append(M)}});I.$element.trigger("loaded.tree.amui",H)})},selectTreeNode:function n(G,E){var F={};F.$element=l(G);var H={};H.$elements=this.$element.find("."+this.classes.selected);H.dataForEvent=[];if(E==="folder"){F.$element=F.$element.closest("."+this.classes.branch);F.$icon=F.$element.find("."+this.classes.iconFolder)}else{F.$icon=F.$element.find("."+this.classes.iconItem)}F.elementData=F.$element.data();if(this.options.multiSelect){p(this,F,H)}else{w(this,F,H)}this.$element.trigger(H.eventType+".tree.amui",{target:F.elementData,selected:H.dataForEvent});F.$element.trigger("updated.tree.amui",{selected:H.dataForEvent,item:F.$element,eventType:H.eventType})},selectTreeNodeSafe:function n(G,E){var F={};F.$element=l(G);var H={};H.$elements=this.$element.find("."+this.classes.selected);H.dataForEvent=[];if(E==="folder"){F.$element=F.$element.closest("."+this.classes.branch);F.$icon=F.$element.find("."+this.classes.iconFolder)}else{F.$icon=F.$element.find("."+this.classes.iconItem)}F.elementData=F.$element.data();if(this.options.multiSelect){p(this,F,H)}else{w(this,F,H)
        }this.$element.trigger(H.eventType+".tree.amui",{target:F.elementData,selected:H.dataForEvent})},discloseFolder:function A(G){var F=l(G);var I=F.closest("."+this.classes.branch);var E=I.find("."+this.classes.branchChildren);var H=E.eq(0);I.addClass(this.classes.open);I.attr("aria-expanded","true");H.removeClass(this.options.hiddenClass);I.find("> ."+this.classes.branchHeader+" ."+this.classes.iconFolder).eq(0).removeClass(this.folderIcon).addClass(this.folderOpenIcon);if(!E.children().length){this.populate(E)}this.$element.trigger("disclosedFolder.tree.amui",I.data())},closeFolder:function o(G){var F=l(G);var I=F.closest("."+this.classes.branch);var E=I.find("."+this.classes.branchChildren);var H=E.eq(0);I.removeClass(this.classes.open);I.attr("aria-expanded","false");H.addClass(this.options.hiddenClass);I.find("> ."+this.classes.branchHeader+" ."+this.classes.iconFolder).eq(0).removeClass(this.folderOpenIcon).addClass(this.folderIcon);if(!this.options.cacheItems){H.empty()}this.$element.trigger("closed.tree.amui",I.data())},toggleFolder:function r(F){var E=l(F);if(E.find("."+this.folderIcon).length){this.discloseFolder(F)}else{if(E.find("."+this.folderOpenIcon).length){this.closeFolder(F)}}},selectFolder:function u(E){if(this.options.folderSelect){this.selectTreeNode(E,"folder")}},selectItem:function n(E){if(this.options.itemSelect){this.selectTreeNode(E,"item")}},selectItemSafe:function n(E){if(this.options.itemSelect){this.selectTreeNodeSafe(E,"item")}},selectedItems:function q(){var F=this.$element.find("."+this.classes.selected);var E=[];l.each(F,function(G,H){E.push(l(H).data())});return E},closeAll:function i(){var F=this;var G=[];var E=function E(I,H){G.push(H);if(F.$element.find("."+F.classes.branch+"."+F.classes.open+':not(".am-hide")').length===0){F.$element.trigger("closedAll.tree.amui",{tree:F.$element,reportedClosed:G});F.$element.off("loaded.tree.amui",F.$element,E)}};F.$element.on("closed.tree.amui",E);F.$element.find("."+F.classes.branch+"."+F.classes.open+':not(".am-hide")').each(function(){F.closeFolder(this)})},discloseVisible:function j(){var F=this;var I=F.$element.find("."+this.classes.branch+':not(".'+this.classes.open+', .am-hide")');var G=[];var H=function H(J,K){G.push(K);if(G.length===I.length){F.$element.trigger("disclosedVisible.tree.amui",{tree:F.$element,reportedOpened:G});F.$element.off("loaded.tree.amui",F.$element,H)}};F.$element.on("loaded.tree.amui",H);F.$element.find("."+this.classes.branch+':not(".'+this.classes.open+', .am-hide")').each(function E(){F.discloseFolder(l(this).find("."+F.classes.branchHeader))})},discloseAll:function s(){var E=this;if(typeof E.$element.data("disclosures")==="undefined"){E.$element.data("disclosures",0)}var F=(E.options.disclosuresUpperLimit>=1&&E.$element.data("disclosures")>=E.options.disclosuresUpperLimit);var G=E.$element.find("."+this.classes.branch+':not(".'+this.classes.open+', .am-hide")').length===0;if(!G){if(F){E.$element.trigger("exceededDisclosuresLimit.tree.amui",{tree:E.$element,disclosures:E.$element.data("disclosures")});if(!E.$element.data("ignore-disclosures-limit")){return}}E.$element.data("disclosures",E.$element.data("disclosures")+1);E.$element.one("disclosedVisible.tree.amui",function(){E.discloseAll()});E.discloseVisible()}else{E.$element.trigger("disclosedAll.tree.amui",{tree:E.$element,disclosures:E.$element.data("disclosures")});if(!E.options.cacheItems){E.$element.one("closeAll.tree.amui",function(){E.$element.data("disclosures",0)})}}},_getIconClass:function(F,E){return(E?".":"")+"am-icon-"+F},_getClass:function(F,E){return(E?".":"")+this.options.classPrefix+"-"+F}};x.prototype.openFolder=x.prototype.discloseFolder;function k(G,F,E){F.addClass(G.classes.selected);if(F.data("type")==="item"&&E.hasClass(G.itemIcon)){E.removeClass(G.itemIcon).addClass(G.itemSelectedIcon)}}function z(G,F,E){F.removeClass(G.classes.selected);if(F.data("type")==="item"&&E.hasClass(G.itemSelectedIcon)){E.removeClass(G.itemSelectedIcon).addClass(G.itemIcon)}}function p(E,F,G){l.each(G.$elements,function(I,J){var H=l(J);if(H[0]!==F.$element[0]){G.dataForEvent.push(l(H).data())}});if(F.$element.hasClass(E.classes.selected)){z(E,F.$element,F.$icon);G.eventType="deselected"}else{k(E,F.$element,F.$icon);G.eventType="selected";G.dataForEvent.push(F.elementData)}}function w(E,F,G){if(G.$elements[0]!==F.$element[0]){var H=E.deselectAll(E.$element);k(E,F.$element,F.$icon);G.eventType="selected";G.dataForEvent=[F.elementData]}else{z(E,F.$element,F.$icon);G.eventType="deselected";G.dataForEvent=[]}}l.fn.tree=function t(G){var F=Array.prototype.slice.call(arguments,1);var H;var E=this.each(function(){var K=l(this);var J=K.data("amui.tree");var I=typeof G==="object"&&G;if(!J){K.data("amui.tree",(J=new x(this,I)))}if(typeof G==="string"){H=typeof J[G]==="function"?J[G].apply(J,F):J[G]}});return(H===undefined)?E:H};l.fn.tree.defaults={dataSource:function y(E,F){},multiSelect:false,cacheItems:true,folderSelect:true,itemSelect:true,disclosuresUpperLimit:0,folderIcon:"plus-square-o",folderOpenIcon:"minus-square-o",itemIcon:"angle-right",itemSelectedIcon:"check",hiddenClass:"am-hide",classPrefix:"am-tree",classes:{branch:"branch",branchName:"branch-name",branchChildren:"branch-children",branchHeader:"branch-header",item:"item",itemName:"item-name",label:"label",icon:"icon",iconFolder:"icon-folder",iconItem:"icon-item",iconCaret:"icon-caret",loader:"loader",selected:"selected",open:"open"}};
        l.fn.tree.Constructor=x;l.fn.tree.noConflict=function(){l.fn.tree=h;return this};f.exports=x}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[1])(1)});